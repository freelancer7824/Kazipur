<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡¶ñ‡¶¨‡¶∞ ‡¶™‡ßú‡ßÅ‡¶® - ‡¶ï‡¶æ‡¶ú‡¶ø‡¶™‡ßÅ‡¶∞ ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßç‡¶∞‡ßá‡¶∏</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
  --brand: #006d63;
  --brand-light: #008577;
  --bg: #f8fafc;
  --card: #ffffff;
  --text: #1f2937;
  --muted: #6b7280;
  --border: #e5e7eb;
}
* { box-sizing: border-box; margin:0; padding:0; font-family:'Noto Sans Bengali', sans-serif; }
body { background: var(--bg); color: var(--text); line-height:1.8; }
.container { max-width: 900px; margin: 0 auto; padding: 20px; }
.header { background: var(--card); position: sticky; top:0; z-index:100; box-shadow:0 2px 10px rgba(0,0,0,0.05); }
.header-inner { display: flex; justify-content: space-between; align-items: center; padding: 12px 20px; }
.brand img { width: 120px; }
.nav { display: flex; gap: 20px; }
.nav a { text-decoration: none; color: var(--text); font-weight:600; position: relative; }
.nav a.active, .nav a:hover { color: var(--brand); }
.nav a.active::after { content: ''; position: absolute; bottom: -4px; left:0; right:0; height:3px; background: var(--brand); border-radius: 3px 3px 0 0; }
.nav-toggle { display: none; background:none; border:none; font-size:24px; cursor:pointer; }
.post-card { background: var(--card); padding:20px; border-radius:12px; box-shadow:0 4px 8px rgba(0,0,0,0.05); margin-top:25px; }
.post-card img { width:100%; border-radius:8px; margin-bottom:15px; }
.post-title { font-size:1.8rem; font-weight:700; color: var(--brand); margin-bottom:12px; }
.post-meta { font-size:14px; color:var(--muted); margin-bottom:15px; }
.post-excerpt { font-weight:600; margin-bottom:15px; }
.post-content { font-size:16px; line-height:1.9; color: var(--text); }
footer { background:#111827; color:white; padding:40px 20px; text-align:center; margin-top:40px; border-radius:12px 12px 0 0; }
@media(max-width:768px){
  .nav { display:none; flex-direction:column; gap:10px; }
  .nav.open { display:flex; position:absolute; top:60px; left:0; right:0; background:white; padding:20px; box-shadow:0 5px 15px rgba(0,0,0,0.1); }
  .nav-toggle { display:block; }
}
</style>
</head>
<body>

<header class="header">
  <div class="container header-inner">
    <button class="nav-toggle" id="navToggle"><i class="fas fa-bars"></i></button>
    <a href="index.html" class="brand"><img src="logo.png" alt="Logo"></a>
    <nav class="nav" id="mainNav">
      <a href="index.html" class="nav-link active">‡¶π‡ßã‡¶Æ</a>
      <a href="post.html" class="nav-link">‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶§‡ßà‡¶∞‡¶ø</a>
    </nav>
  </div>
</header>

<div class="container">
  <div id="fullPost"></div>
</div>

<footer>
  <h3>‡¶ï‡¶æ‡¶ú‡¶ø‡¶™‡ßÅ‡¶∞ ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßç‡¶∞‡ßá‡¶∏</h3>
  <p>&copy; ‡ß®‡ß¶‡ß®‡ß© ‡¶∏‡¶ï‡¶≤ ‡¶Ö‡¶ß‡¶ø‡¶ï‡¶æ‡¶∞ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶ø‡¶§</p>
</footer>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyCP6zCBnpY2IgIEPAtiAzuF6_83F4vU-xs",
  authDomain: "vip-news-aa9d1.firebaseapp.com",
  projectId: "vip-news-aa9d1",
  storageBucket: "vip-news-aa9d1.firebasestorage.app",
  messagingSenderId: "105863450293",
  appId: "1:105863450293:web:27d4c874ec3fef0184f8fc",
  measurementId: "G-TDRFDHC7ER"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

const navToggle = document.getElementById('navToggle');
const mainNav = document.getElementById('mainNav');
navToggle.addEventListener('click', ()=>mainNav.classList.toggle('open'));

async function loadFullPost() {
  const urlParams = new URLSearchParams(window.location.search);
  const postId = urlParams.get('postId');
  if (!postId) return;

  try {
    const doc = await db.collection('news').doc(postId).get();
    if (!doc.exists) {
      document.getElementById('fullPost').innerHTML = '<p>‚ùå ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø</p>';
      return;
    }

    const news = doc.data();
    const formattedDate = news.createdAt 
      ? news.createdAt.toDate().toLocaleDateString('bn-BD', { year:'numeric', month:'long', day:'numeric' }) 
      : '‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶®‡ßá‡¶á';

    document.getElementById('fullPost').innerHTML = `
      <article class="post-card">
        <img src="${news.imageUrl}" alt="${news.title}">
        <h2 class="post-title">${news.title}</h2>
        <p class="post-meta">
          <strong>${news.category}</strong> | ${news.author || '‡¶Ö‡¶ú‡¶æ‡¶®‡¶æ'} | ${formattedDate}
        </p>
        <p class="post-excerpt">${news.excerpt}</p>
        <div class="post-content">${news.content || '‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶≤‡ßá‡¶ñ‡¶æ ‡¶®‡ßá‡¶á'}</div>
        <p style="margin-top:20px; color:#6b7280">üìå ‡¶∏‡ßÇ‡¶§‡ßç‡¶∞: ${news.source || '‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶™‡¶§‡ßç‡¶∞‡¶ø‡¶ï‡¶æ'}</p>
      </article>
    `;
  } catch (err) {
    console.error('Error loading post:', err);
    document.getElementById('fullPost').innerHTML = '<p>‚ö†Ô∏è ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá</p>';
  }
}

document.addEventListener('DOMContentLoaded', loadFullPost);
</script>
</body>
</html>